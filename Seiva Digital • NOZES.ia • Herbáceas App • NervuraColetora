# Plataforma Unificada de Dados & IA Socioambiental  
**Seiva Digital ‚Ä¢ NOZES.ia ‚Ä¢ Herb√°ceas App ‚Ä¢ NervuraColetora**  

Vers√£o: 0.2 (MVP Blueprint Consolidado)  
√öltima atualiza√ß√£o: Janeiro/2026  

---

## 1) Vis√£o Geral

Esta plataforma unifica **coleta de dados de campo**, **an√°lise bot√¢nica**, **identifica√ß√£o biol√≥gica**, **processamento de imagens** e **Intelig√™ncia Artificial (LLM + VLM)** em um **ecossistema √∫nico, robusto e profissional**, voltado para projetos socioambientais, invent√°rios florestais e an√°lises ecol√≥gicas.

### Projetos Integrados
- **Seiva Digital** ‚Äî Coleta socioambiental offline-first (Flutter)
- **NOZES.ia** ‚Äî Chaves de identifica√ß√£o biol√≥gica inteligentes (React/TS)
- **Herb√°ceas App** ‚Äî An√°lise de vegeta√ß√£o herb√°cea por imagem (Web + IA)
- **NervuraColetora** ‚Äî Invent√°rio bot√¢nico com m√∫ltiplos fustes (Web/Mobile h√≠brido)

O objetivo central √© **compartilhar um backbone √∫nico de dados e IA**, reduzindo retrabalho, aumentando consist√™ncia cient√≠fica e permitindo evolu√ß√£o cont√≠nua via aprendizado de m√°quina.

---

## 2) Princ√≠pios de Arquitetura

### 2.1 Banco √önico ‚â† Banco Simples
O ‚Äúbanco √∫nico‚Äù √© uma **Plataforma de Dados em Camadas**:

1. **Object Storage**  
   - Imagens, fotos de campo, estampas, exports, vers√µes
2. **PostgreSQL**  
   - Dados transacionais e cient√≠ficos
3. **PostGIS**  
   - Coordenadas, parcelas, mapas, KML
4. **pgvector**  
   - Embeddings (texto + imagem) para busca sem√¢ntica e RAG
5. **Pipelines Ass√≠ncronos**  
   - Processamento de imagens, IA, valida√ß√µes
6. **AI Gateway (FastAPI)**  
   - API √∫nica para todos os projetos

---

## 3) Projetos Integrados √† Plataforma

---

## üå≥ Seiva Digital
**Coleta socioambiental offline-first**

- Flutter (Android)
- SQLite local ‚Üí sincroniza√ß√£o autom√°tica
- GPS, formul√°rios customiz√°veis, fotos com metadados
- Invent√°rios florestais (AAS)
- Integra√ß√£o com IA para:
  - valida√ß√£o de consist√™ncia
  - enriquecimento de dados
  - an√°lise posterior por imagem

---

## üåø NOZES.ia
**Identifica√ß√£o biol√≥gica inteligente**

- React 19 + TypeScript
- Gera√ß√£o autom√°tica de:
  - esp√©cies
  - caracter√≠sticas
  - estados
  - matrizes taxon√¥micas
- IA multimodal para:
  - sugest√£o taxon√¥mica
  - normaliza√ß√£o de termos
  - busca sem√¢ntica entre chaves
- Persist√™ncia estruturada no banco √∫nico

---

## üå± Herb√°ceas App
**An√°lise de vegeta√ß√£o herb√°cea com IA**

- Upload em lote de imagens
- An√°lise por subparcelas
- Extra√ß√£o estruturada:
  - morfotipos
  - taxonomia sugerida
  - caracter√≠sticas morfol√≥gicas
- M√∫ltiplos modelos (Gemini, OpenAI, Claude)
- Revis√£o humana obrigat√≥ria
- Exporta√ß√£o Excel/CSV
- Primeiro pipeline ‚Äúfim-a-fim‚Äù do MVP

---

## üå≥ NervuraColetora
**Invent√°rio Bot√¢nico com M√∫ltiplos Fustes**

Aplicativo h√≠brido (Web + Android + iOS) focado em **coleta bot√¢nica avan√ßada**, com suporte completo a **m√∫ltiplos fustes por indiv√≠duo**.

### Funcionalidades Principais
#### üå≥ Invent√°rio Avan√ßado
- M√∫ltiplos fustes individuais por √°rvore
- Modal visual de gerenciamento
- Distribui√ß√£o proporcional autom√°tica de alturas
- Compatibilidade h√≠brida:
  - texto: `15+18+22`
  - modal visual
- Preview sonoro com valores calculados

#### üì∑ Registro R√°pido com Estampa
- C√¢mera integrada
- Estampa autom√°tica nas fotos:
  - ID sequencial (NC001‚Ä¶)
  - coordenadas
  - munic√≠pio/UF
  - esp√©cie
  - data/hora
- Registro instant√¢neo no invent√°rio

#### üìç GPS Inteligente
- Captura autom√°tica ao focar nova linha
- Geocodifica√ß√£o reversa (munic√≠pio/UF)
- Mapa interativo (Leaflet + OSM)
- 100% offline-first

#### üíæ Exporta√ß√£o Cient√≠fica
- Excel/CSV expandido (1 fuste = 1 linha)
- Exporta√ß√£o KML
- Backup/restaura√ß√£o completa
- Compartilhamento nativo

### Tecnologias
- Frontend: React + TypeScript + Vite
- Mobile: Capacitor (Android + iOS)
- Mapas: Leaflet + OpenStreetMap
- Dados locais: IndexedDB + localStorage
- CI/CD: GitHub Actions

### Integra√ß√£o com a Plataforma
- Sync com Postgres central
- Upload de fotos para Object Storage
- Processamento de imagem por IA (futuro):
  - identifica√ß√£o de esp√©cie
  - valida√ß√£o de CAP/altura
  - detec√ß√£o de inconsist√™ncias

---

## 4) Arquitetura T√©cnica (Comum a Todos)

### 4.1 Stack Oficial
- **Banco**: PostgreSQL + PostGIS + pgvector
- **Storage**: S3 ou MinIO
- **API**: FastAPI (AI Gateway)
- **Jobs**: Redis + Celery (ou RQ)
- **IA/RAG**: LlamaIndex (padr√£o)
- **Observabilidade**: Prometheus + Grafana

---

## 5) Governan√ßa de IA (Obrigat√≥rio)

Toda execu√ß√£o de IA gera um registro em `core.ai_runs` contendo:
- modelo / provedor
- vers√£o do prompt
- hashes de entrada e sa√≠da
- lat√™ncia e custo estimado
- status
- revis√£o humana (pending / approved / corrected)
- n√≠vel de confian√ßa

Nenhum dado cient√≠fico √© considerado **final** sem **valida√ß√£o humana**.

---

## 6) MVP ‚Äì Entregas Priorit√°rias

### MVP 1 ‚Äì Backbone
- Postgres + PostGIS + pgvector
- Object Storage
- Schemas:
  - `core`
  - `seiva`
  - `nozes`
  - `herbaceas`
  - `nervura`

### MVP 2 ‚Äì Pipeline de Imagem (Herb√°ceas)
- imagem ‚Üí IA ‚Üí JSON validado ‚Üí banco ‚Üí revis√£o

### MVP 3 ‚Äì Sync NervuraColetora
- m√∫ltiplos fustes
- fotos estampadas
- export cient√≠fico

---

## 7) Roadmap Evolutivo

### Curto Prazo (0‚Äì3 meses)
- MVP completo
- RAG NOZES
- Pipeline Herb√°ceas
- Sync NervuraColetora

### M√©dio Prazo (3‚Äì6 meses)
- ML para identifica√ß√£o autom√°tica de esp√©cies
- Padroniza√ß√£o de morfotipos interprojetos
- Painel de qualidade cient√≠fica

### Longo Prazo (6‚Äì12 meses)
- Modelos treinados com dados pr√≥prios
- Segmenta√ß√£o vegetal
- Integra√ß√£o com herb√°rios virtuais
- Lakehouse / Big Data Analytics

---

## 8) Crit√©rios de Qualidade
- Offline-first real
- Auditoria total
- Versionamento de dados e IA
- Contratos JSON r√≠gidos
- Reprocessamento seguro
- Escalabilidade horizontal

---

## 9) Como Come√ßar
1. Aprovar este README como baseline
2. Criar reposit√≥rio ‚Äúplataforma‚Äù
3. Subir ambiente DEV (Docker)
4. Implementar tabelas `core`
5. Pipeline Herb√°ceas
6. Sync NervuraColetora
7. RAG NOZES
8. Integra√ß√£o Seiva

---

## 10) Vis√£o Final
Esta plataforma n√£o √© apenas um conjunto de apps.  
Ela √© um **ecossistema cient√≠fico digital**, capaz de:

- preservar dados de campo
- aumentar rigor cient√≠fico
- reduzir erros humanos
- escalar an√°lise ambiental
- evoluir continuamente com IA

---

**Tecnologia a servi√ßo da floresta, da ci√™ncia e da verdade dos dados.**
